Write a function, countComponents, that takes in a number of nodes (n) and a list of edges for an undirected graph. In the graph, nodes are labeled from 0 to n - 1. The function should return the number of connected components in the given graph.

Solve this by implementing the complete Union-Find algorithm with size and path-compression.